<table [cellPadding]="0" [cellSpacing]="0" [width]="'100%'" [border]="0">
    <!-- HEADER -->

    <thead
        [style.color]="viewConfig.headerTextColor"
        [style.background-color]="viewConfig.headerBackgroundColor"
        [style.position]="viewConfig.stickyView?.headerTop ? 'sticky' : 'static'"
        [style.top]="viewConfig.stickyView?.headerTop?.desktopView || undefined"
    >
        <tr>
            <!-- ICON -->
            @if (hasIcon) {
            <th></th>
            }

            <!-- COLUMNS -->
            @for (column of ngxTable.columns; track $index) {
            <th [style.text-align]="(column.textAlign || 'RIGHT').toLowerCase()">
                <div class="column">
                    <div class="title">{{ column.title }}</div>

                    <!-- ORDER -->
                    @if (column.filter && orders[column.filter.id]) {
                    <mat-icon
                        (click)="updateOrder(column.filter.id)"
                        [style.cursor]="
                            orders[column.filter.id].type === 'ORDER' || !orders[column.filter.id].current
                                ? 'pointer'
                                : 'default'
                        "
                    >
                        {{
                            orders[column.filter.id].current === 'ASC'
                                ? 'north'
                                : orders[column.filter.id].current === 'DESC'
                                ? 'south'
                                : 'swap_vert'
                        }}
                    </mat-icon>
                    }
                </div>
            </th>
            }

            <!-- ACTION -->
            @if (hasAction) {
            <th></th>
            }
        </tr>
    </thead>

    <!-- BODY -->
    <tbody>
        @for (item of data; track $index; let dataIndex = $index) {
        <tr [style.color]="colors[dataIndex]">
            <!-- ICON -->
            @if (hasIcon) {
            <td class="icon" [style.border-color]="viewConfig.alternateRows ? '' : viewConfig.borderColor">
                <mat-icon [style.color]="icons[$index].color" [style.font-size]="viewConfig.iconSize">
                    {{ icons[$index].icon }}
                </mat-icon>
            </td>
            }

            <!-- DATA -->
            @for (column of ngxTable.columns; track $index; let columnIndex = $index) {
            <td [style.border-color]="viewConfig.alternateRows ? '' : viewConfig.borderColor">
                <view-value
                    [column]="column"
                    [item]="item"
                    [viewConfig]="viewConfig"
                    [isDeactive]="columnIndex === titleIndex && deactives.includes(dataIndex)"
                ></view-value>
            </td>
            }

            <!-- ACTION -->
            @if (hasAction) {
            <td class="action" [style.border-color]="viewConfig.alternateRows ? '' : viewConfig.borderColor">
                <view-action
                    [actions]="ngxTable.actions || []"
                    [item]="item"
                    [viewConfig]="viewConfig"
                    [isMobile]="false"
                ></view-action>
            </td>
            }
        </tr>
        }
    </tbody>
</table>
